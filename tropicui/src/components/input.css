@layer components {
    .input {
        overflow: hidden;
        /* dimensions */
        block-size: var(--input-size);

        /* colors */
        border: var(--input-border);
        border-radius: var(--radius-md);
        outline: var(--input-focus);
        background-color: var(--input-bg);
        box-shadow: var(--shadow-xs);

        /* text */

        /* modifiers */
        --input-bg: var(--color-neutral-50);
        --input-border: 1px solid var(--color-neutral-300);
        --input-focus: 0px solid var(--color-blue-200);
        --input-text: var(--color-neutral-800);
        --input-label: var(--color-neutral-400);
        --input-size: --spacing(9);
        --btn-radius: none;

        /* input field */
        &:is(input), input {
            overflow: hidden;
            inline-size: 100%;
            padding-inline: --spacing(4);

            /* text */
            color: var(--input-text);

            &::placeholder {
                font-style: italic;
            }

            &:read-only:not(:disabled, [disabled]) {
                background-color: var(--color-neutral-200);
            }

            &:is([type="file"]) {
                padding-inline-start: 0px;
                &:not(:disabled, [disabled]) {
                    background-color: var(--input-bg);
                }
            
                &::file-selector-button {
                    block-size: 100%;
                    min-inline-size: var(--input-size);
                    padding-inline: --spacing(4);
                    margin-inline-end: --spacing(4);

                    /* color */
                    background-color: var(--color-neutral-100);
                    border-inline-end: var(--input-border);
                }

                &::file-selector-button:hover {
                    background-color: var(--color-neutral-200);
                }
            }
        }

        /* disabled */
        &:is(:disabled, [disabled]),
        &:has(:disabled, [disabled]) {
            cursor: not-allowed;
            /* colors */
            background-color: var(--color-neutral-200);
            box-shadow: none;
        }

        /* focus */
        &:not(.input-nofocus):focus-visible,
        &:not(.input-nofocus):has(:focus-visible) {
            outline-width: 3px;
            border-color: var(--color-blue-400);
            background-color: var(--color-white);
        }

        /* validation */
        &.input-validate:invalid,
        &.input-validate:has(:invalid),
        &.input-invalid,
        &:has(.input-invalid) {
            border-color: var(--color-red-400);
            outline-width: 2px;
            outline-style: solid;
            outline-color: var(--color-red-200);
        }

        /* input group */
        &:not(input) {
            display: flex;
            align-items: center;

            > input {
                flex: 1;
                outline-width: 0;
                block-size: 100%;
            }

            /* label */
            > :where(:not(input, .btn)) {
                padding-inline: --spacing(4) --spacing(0);

                /* text */
                color: var(--input-label);

                &:last-child {
                    padding-inline: --spacing(0) --spacing(4);
                }
            }

            /* button */
            > .btn {
                block-size: 100%;
                min-inline-size: var(--input-size);

                &:has(~ input) {
                    border-inline-end: var(--input-border);
                }
                &:not(:has(~ input)) {
                    border-inline-start: var(--input-border);
                }
            }
        }
        
        :where(svg, img) {
            block-size: 1.25em;

            .btn & {
                width: auto;
                min-width: auto;
            }
        }

        &:has(.input-prefix, .input-suffix) {
            .input-prefix, .input-suffix {
                block-size: 100%;
                min-inline-size: var(--input-size);
                align-content: center;
                justify-items: center;
                text-align: center;
                padding-inline: --spacing(2);
                background-color: var(--color-neutral-100);
            }

            .input-prefix {
                border-inline-end: var(--input-border);
            }
    
            .input-suffix {
                border-inline-start: var(--input-border);
            }
        }
    }

    /* variations */
    .input-clear {
        /* colors */
        border: none;
        box-shadow: none;
        background: none;
    }

    .input-solid {
        /* colors */
        border: none;
        box-shadow: none;
        background-color: var(--color-neutral-100);
    }

    /* sizes */
    .input-xs {
        --input-size: --spacing(7);
        font-size: var(--text-xs);
        line-height: var(--text-xs--line-height);
    }

    .input-sm {
        --input-size: --spacing(8);
        font-size: var(--text-sm);
        line-height: var(--text-sm--line-height);
    }

    .input-lg {
        --input-size: --spacing(10);
        font-size: var(--text-lg);
        line-height: var(--text-lg--line-height);
    }

    .input-xl {
        --input-size: --spacing(12);
        font-size: var(--text-xl);
        line-height: var(--text-xl--line-height);
    }
}