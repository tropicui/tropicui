@layer components {
    .modal {
        opacity: 0;
        min-block-size: var(--modal-block);
        inline-size: var(--modal-inline);

        /* colors */
        background-color: var(--color-white);
        border: 1px solid var(--color-neutral-50);
        border-radius: var(--radius-md);
        box-shadow: var(--tt-ring-shadow), var(--shadow-xl);

        /* modifiers */
        --modal-block: --spacing(60);
        --modal-inline: --spacing(120);
        --modal-header-block: --spacing(14);
        --modal-footer-block: --spacing(16);
        --tt-ring-shadow: 0 0 0 1px var(--color-neutral-200, currentColor);

        /* animation */
        transition-property: display, opacity, overlay, scale, transform, visibility;
        transition-behavior: allow-discrete;
        transition-duration: var(--tt-duration, var(--default-transition-duration));
        /* transition-duration: 2s; */
        transition-timing-function: var(--tt-ease-out, var(--default-transition-timing-function));
        @starting-style {
            &:open {
                opacity: 0;
                scale: 80%;
            }
        }
        &:open {
            opacity: 1;
            button:focus-visible {
                background-color: inherit;
            }
        }
        &::backdrop {
            background-color: color-mix(in oklab, var(--color-black) 0%, transparent);

            /* animation */
            transition-property: display, overlay, background-color;
            transition-behavior: allow-discrete;
            transition-duration: var(--tt-duration, var(--default-transition-duration));
            /* transition-duration: 2s; */
            transition-timing-function: var(--tt-ease-out, var(--default-transition-timing-function));
        }
        &:open::backdrop {
            background-color: color-mix(in oklab, var(--color-black) 25%, transparent);
        }
        @starting-style {
            &:open::backdrop {
                background-color: color-mix(in oklab, var(--color-black) 0%, transparent);
            }
        }

        .card-body {
            min-block-size: calc(var(--modal-block) - var(--card-header-block) - var(--card-footer-block));
        }

        /* corner close x button */
        .modal-dismiss-x {
            position: absolute;
            inset-block-start: --spacing(4);
            inset-inline-end: --spacing(4);
        }

        /* action outside of modal */
        .modal-static,
        .modal-dismiss-backdrop {
            display: grid;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0;
            z-index: -1;
        }
        &:has(.modal-static:active) {
            scale: 105%;
        }
    }

    /* center content */
    .modal-center {
        align-content: center;
        justify-items: center;
    }

    /* modal sizes */
    .modal-sm {
        --modal-block: --spacing(48);
        --modal-inline: --spacing(96);
    }
    .modal-lg {
        --modal-block: --spacing(84);
        --modal-inline: --spacing(168);
    }
    .modal-xl {
        --modal-block: --spacing(120);
        --modal-inline: --spacing(240);
    }
    .modal-focus {
        block-size: 100%;
        inline-size: 100%;
        margin-block: --spacing(4);
    }
}